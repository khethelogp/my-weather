(this["webpackJsonpmy-weather"]=this["webpackJsonpmy-weather"]||[]).push([[0],{11:function(e,c,t){},14:function(e,c,t){"use strict";t.r(c);var n=t(1),s=t.n(n),a=t(6),i=t.n(a),r=(t(11),t(3)),o=t.n(r),d=t(4),l=t(2),u="ccc62bdb7a2967c2cfdfa36001161aed",h="https://api.openweathermap.org/data/2.5/",j=t(0),b="",m=function(e){var c=e.city,t=e.country,n=e.temp,s=e.description,a={Thunderstorm:"cloud-lightning-rain",Rain:"cloud-rain-heavy",Drizzle:"cloud-drizzle",Snow:"cloud-snow",Mist:"cloud-fog2",Smoke:"cloud-haze-1",Haze:"cloud-haze",Dust:"cloud-haze2-fill",Fog:"cloud-fog2",Sand:"tornado",Ash:"cloud-snow",Squall:"wind",Tornado:"tornado",Hurricane:"hurricane",Clear:"sun",Cloud:"cloud",Clouds:"clouds"},i=new Date,r=i.getHours();i.getMinutes();switch(s){case"Thunderstorm":case"Rain":case"Drizzle":case"Snow":case"Mist":case"Smoke":case"Haze":case"Dust":case"Fog":case"Sand":case"Ash":case"Squall":case"Tornado":case"Hurricane":case"Cloud":case"Clouds":b=a[s];break;default:b=r>18?"moon":"sun",r<6&&(b="moon")}return Object(j.jsxs)("div",{className:"location",children:[Object(j.jsxs)("div",{className:"data",children:[Object(j.jsxs)("h1",{children:[c,", ",t]}),Object(j.jsx)("h3",{children:"Current"}),Object(j.jsxs)("h2",{children:[Math.round(n),"\xb0C"]}),Object(j.jsx)("h4",{children:s})]}),Object(j.jsx)("div",{className:"data-icon",children:Object(j.jsx)("i",{class:"bi bi-".concat(b)})})]})};function O(e){var c="",t={Thunderstorm:"cloud-lightning-rain",Rain:"cloud-rain-heavy",Drizzle:"cloud-drizzle",Snow:"cloud-snow",Mist:"cloud-fog2",Smoke:"cloud-haze-1",Haze:"cloud-haze",Dust:"cloud-haze2-fill",Fog:"cloud-fog2",Sand:"tornado",Ash:"cloud-snow",Squall:"wind",Tornado:"tornado",Hurricane:"hurricane",Clear:"sun",Cloud:"cloud",Clouds:"clouds"};switch(e){case"Thunderstorm":case"Rain":case"Drizzle":case"Snow":case"Mist":case"Smoke":case"Haze":case"Dust":case"Fog":case"Sand":case"Ash":case"Squall":case"Tornado":case"Hurricane":case"Cloud":case"Clouds":c=t[e];break;default:c="sun"}return c}var x=function(e){var c=e.days;return Object(j.jsx)("div",{className:"day-list",children:c.map((function(e,c){return Object(j.jsxs)("div",{className:"day",children:[Object(j.jsx)("h3",{children:(t=e,new Date(1e3*t.dt).toLocaleDateString("en",{weekday:"long"}).slice(0,3))}),Object(j.jsx)("i",{className:"bi bi-".concat(O(e.weather[0].main))}),Object(j.jsxs)("p",{children:[Math.round(e.temp.max),"\xb0 ",Object(j.jsxs)("small",{children:[Math.round(e.temp.min),"\xb0"]})]})]},c);var t}))})},p=function(e){var c=e.longitude,t=e.latitude,s=c,a=t,i=Object(n.useState)(null),r=Object(l.a)(i,2),b=r[0],m=r[1];Object(n.useEffect)((function(){O()}),[s]);var O=function(){var e=Object(d.a)(o.a.mark((function e(){var c,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"onecall?lat=").concat(a,"&lon=").concat(s,"&exclude=current,hourly,minutely,alerts&units=metric&appid=").concat(u));case 2:return c=e.sent,e.next=5,c.json();case 5:t=e.sent,m(t.daily);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"daily-focust",children:b&&Object(j.jsx)(x,{days:b})})},f=function(e){var c,t=e.humidity,n=e.feels,s=e.minTemp,a=e.maxTemp,i=e.condition,r=e.windDirection,o=e.windSpeed,d=e.pressure,l=e.sunrise,u=e.sunset;function h(e){var c=new Date(1e3*e),t=("0"+c.getHours()).slice(-2),n=("0"+c.getMinutes()).slice(-2);return"".concat(t,":").concat(n)}return Object(j.jsxs)("div",{className:"todays-condition",children:[Object(j.jsx)("h2",{children:"Today's Weather Condition"}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Humidity"}),Object(j.jsxs)("h4",{children:[t,"%"]})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Feels Like"}),Object(j.jsxs)("h4",{children:[Math.round(n),"\xb0C"]})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Min Temp"}),Object(j.jsxs)("h4",{children:[Math.round(s),"\xb0C"]})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Max Temp"}),Object(j.jsxs)("h4",{children:[Math.round(a),"\xb0C"]})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Condition"}),Object(j.jsx)("h4",{children:i})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Wind Direction"}),Object(j.jsx)("h4",{children:function(e){switch(!0){case e>0&&e<90:c="NE";break;case e>90&&e<180:c="SE";break;case e>180&&e<270:c="SW";break;case e>270&&e<360:c="NW";break;default:c="-"}return c}(r)})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Wind Speed"}),Object(j.jsxs)("h4",{children:[Math.round(o)," km/h"]})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Pressure"}),Object(j.jsx)("h4",{children:d})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Sunrise"}),Object(j.jsx)("h4",{children:h(l)})]}),Object(j.jsxs)("div",{className:"condition",children:[Object(j.jsx)("h4",{children:"Sunset"}),Object(j.jsx)("h4",{children:h(u)})]})]})},v=function(){var e=Object(n.useState)({}),c=Object(l.a)(e,2),t=c[0],s=c[1],a=Object(n.useState)(""),i=Object(l.a)(a,2),r=i[0],b=i[1],O=Object(n.useState)("Pretoria"),x=Object(l.a)(O,2),v=x[0],w=x[1],y=Object(n.useState)(!0),S=Object(l.a)(y,2),g=S[0],N=S[1],z=Object(n.useState)(null),k=Object(l.a)(z,2),C=k[0],D=k[1];Object(n.useEffect)((function(){setTimeout((function(){T()}),1e3)}),[v]);var T=function(){var e=Object(d.a)(o.a.mark((function e(){var c,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h,"weather?q=").concat(v,"&units=metric&APPID=").concat(u));case 3:if((c=e.sent).ok){e.next=8;break}throw Error("Oops, could not fetch the data for that resource!");case 8:return e.next=10,c.json();case 10:t=e.sent,s(t),N(!1),D(null);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),N(!1),D(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"app ".concat(function(){var e="";return t.main&&(e=t.weather[0].main.toLowerCase()),e}()),children:Object(j.jsx)("main",{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"grid-wrapper",children:[Object(j.jsx)("div",{className:"searchBar",children:Object(j.jsxs)("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),w(r),b(""),N(!0)},children:[Object(j.jsx)("input",{className:"search-bar",type:"text",placeholder:"Enter a Town or City",value:r,onChange:function(e){b(e.target.value)}}),Object(j.jsx)("button",{type:"submit",title:"search",children:Object(j.jsx)("i",{class:"bi bi-search"})})]})}),C&&Object(j.jsxs)("div",{className:"rError",children:[C," "]}),g&&Object(j.jsx)("div",{className:"pending",children:Object(j.jsx)("h3",{children:"Loading..."})}),t.main&&Object(j.jsx)(m,{city:t.name,country:t.sys.country,temp:t.main.temp,description:t.weather[0].main},t.weather.id),t.main&&Object(j.jsx)(p,{longitude:t.coord.lon,latitude:t.coord.lat},t.weather.id),t.main&&Object(j.jsx)(f,{humidity:t.main.humidity,feels:t.main.feels_like,minTemp:t.main.temp_min,maxTemp:t.main.temp_max,condition:t.weather[0].description,windDirection:t.wind.deg,windSpeed:t.wind.speed,pressure:t.main.pressure,sunrise:t.sys.sunrise,sunset:t.sys.sunset},t.weather.id)]})})})})};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.56f66fdf.chunk.js.map